# qwen3-coder SWE-bench Verified 评估报告

## 概述

本报告记录 qwen3-coder-480b-a35b-instruct 模型在 SWE-bench Verified 评估中的完整实验结果。

**评估配置:**
- 模型: `qwen/qwen3-coder-480b-a35b-instruct` (通过 PPIO API)
- 数据集: `princeton-nlp/SWE-bench_Verified`
- 实例数量: 500
- 最大迭代: 100
- Workers: 8 (推理) / 4 (测试验证)
- Agent: CodeActAgent

**评估状态:** ✅ 已完成

---

## 第一部分：最终结果

### 1.1 核心指标

| 指标 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| **解决率** | **56.4%** (282/500) | **64.5%** (314/487) | **39.2%** (196/500) |
| 已提交 | 500 | 500 | 500 |
| 已完成测试 | 492 | 487 | 410 |
| 已解决 | 282 | 314 | 196 |
| 未解决 | 210 | 173 | 214 |
| 空 Patch | 4 (0.8%) | ~25 (5%) | 85 (17%) |
| 错误实例 | 4 | - | 5 |

### 1.2 结果分析

**qwen3-coder 表现:**
- 解决率 56.4%，位于 Claude Sonnet 4.5 (64.5%) 和 kat-coder (39.2%) 之间
- 空 Patch 率仅 0.8%，是三个模型中最低的
- 492/500 实例完成了测试验证，完成率最高

---

## 第二部分：性能指标

### 2.1 迭代统计

| 指标 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| 平均迭代数 | **70.1** | 81.3 | 54.0 |
| 最小迭代 | 15 | 19 | 7 |
| 最大迭代 | 102 | 100 | 102 |

**迭代分布:**

| 范围 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| 1-25 | 4 (0.8%) | 1 (0.3%) | 72 (14.4%) |
| 26-50 | 83 (16.6%) | 9 (2.9%) | 198 (39.6%) |
| 51-75 | 228 (45.6%) | 126 (40.1%) | 105 (21.0%) |
| 76-100 | 121 (24.2%) | 178 (56.7%) | 54 (10.8%) |
| 其他 | 64 (12.8%) | - | 71 (14.2%) |

**关键发现:** qwen3-coder 迭代分布较为均衡，主要集中在 51-75 次迭代区间。

### 2.2 延迟统计

| 指标 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| 总 API 调用次数 | 34,455 | 40,675 | 26,611 |
| 总延迟时间 | 71.89 小时 | 98.08 小时 | 57.45 小时 |
| **平均延迟** | **7.51 秒** | **8.68 秒** | **7.77 秒** |

### 2.3 Token 使用

| 指标 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| 总 Prompt Tokens | 1,175,570,691 | 1,764,316,046 | 903,405,938 |
| 总 Completion Tokens | 7,510,666 | 11,547,369 | 5,485,596 |
| 平均每实例 Prompt | 2,351,141 | 3,528,632 | 1,806,812 |
| 平均每实例 Completion | 15,021 | 23,095 | 10,971 |

---

## 第三部分：效率与准确率分析

### 3.1 综合对比

| 指标 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| **解决率** | 56.4% | 64.5% | 39.2% |
| Patch 生成率 | **99.2%** | ~95% | 83% |
| 平均迭代数 | 70.1 | 81.3 | 54.0 |
| 平均延迟 | 7.51s | 8.68s | 7.77s |
| Token 消耗 | 1,176M | 1,764M | 903M |

### 3.2 关键发现

1. **高 Patch 生成率**: 99.2% 的实例生成了 patch，远超其他模型
2. **中等解决率**: 56.4% 的解决率位于三模型中间位置
3. **良好的迭代效率**: 平均迭代数比 Claude Sonnet 4.5 少 14%
4. **Token 效率**: 比 Claude Sonnet 4.5 少用 33% 的 tokens

### 3.3 每解决实例成本对比

| 指标 | qwen3-coder | Claude Sonnet 4.5 | kat-coder |
|------|-------------|-------------------|-----------|
| 总 Tokens | ~1,183M | ~1,776M | ~909M |
| 解决实例数 | 282 | 314 | 196 |
| **每解决实例 Tokens** | **4.19M** | **5.66M** | **4.64M** |

qwen3-coder 每解决实例的 token 消耗最低，效率最高。

---

## 第四部分：模型排名

### 4.1 按解决率排名

| 排名 | 模型 | 解决率 | 解决数 |
|------|------|--------|--------|
| 1 | Claude Sonnet 4.5 | **64.5%** | 314 |
| 2 | qwen3-coder | **56.4%** | 282 |
| 3 | kat-coder | **39.2%** | 196 |

### 4.2 按效率排名 (每解决实例 Tokens)

| 排名 | 模型 | Tokens/解决实例 |
|------|------|----------------|
| 1 | qwen3-coder | **4.19M** |
| 2 | kat-coder | 4.64M |
| 3 | Claude Sonnet 4.5 | 5.66M |

### 4.3 按 Patch 生成率排名

| 排名 | 模型 | Patch 生成率 |
|------|------|-------------|
| 1 | qwen3-coder | **99.2%** |
| 2 | Claude Sonnet 4.5 | ~95% |
| 3 | kat-coder | 83% |

---

## 第五部分：结论与建议

### 5.1 结论

1. **qwen3-coder 表现良好**: 56.4% 的解决率虽低于 Claude Sonnet 4.5，但显著优于 kat-coder
2. **最高效的 Patch 生成**: 99.2% 的 patch 生成率表明模型理解问题并尝试解决的能力强
3. **最佳 Token 效率**: 每解决实例仅需 4.19M tokens，是三模型中最高效的
4. **平衡的迭代策略**: 不像 kat-coder 过早放弃，也不像 Claude 过度探索

### 5.2 适用场景

- **追求准确率**: 选择 Claude Sonnet 4.5 (64.5%)
- **追求效率**: 选择 qwen3-coder (最低每实例 token 消耗)
- **资源受限**: 选择 kat-coder (最少总 token 消耗，但准确率最低)

### 5.3 可能的改进方向

1. **增加迭代限制**: 尝试 120-150 次迭代，可能提高解决率
2. **组合策略**: 先用 qwen3-coder 快速尝试，失败后切换到 Claude Sonnet 4.5
3. **分析未解决案例**: 深入研究 210 个未解决实例的失败模式

---

## 第六部分：配置参考

### 6.1 模型配置 (config.toml)

```toml
[llm.qwen3_coder]
model = "openai/qwen/qwen3-coder-480b-a35b-instruct"
base_url = "https://api.ppio.com/openai/v1"
api_key = "sk_xxx"
temperature = 0.0
```

### 6.2 运行命令

```bash
# 推理阶段
./evaluation/benchmarks/swe_bench/scripts/run_infer.sh \
  llm.qwen3_coder \
  HEAD \
  CodeActAgent \
  500 \
  100 \
  8 \
  princeton-nlp/SWE-bench_Verified \
  test

# 测试验证阶段
./evaluation/benchmarks/swe_bench/scripts/eval_infer.sh \
  output.jsonl \
  "" \
  princeton-nlp/SWE-bench_Verified \
  test \
  local
```

---

## 附录：三模型完整对比

| 指标 | Claude Sonnet 4.5 | qwen3-coder | kat-coder |
|------|-------------------|-------------|-----------|
| **解决率** | **64.5%** | 56.4% | 39.2% |
| 解决数 | 314 | 282 | 196 |
| Patch 生成率 | ~95% | **99.2%** | 83% |
| 平均迭代 | 81.3 | 70.1 | 54.0 |
| 平均延迟 | 8.68s | **7.51s** | 7.77s |
| 总 Prompt Tokens | 1,764M | 1,176M | 903M |
| 总 Completion Tokens | 11.5M | 7.5M | 5.5M |
| 每解决实例 Tokens | 5.66M | **4.19M** | 4.64M |
| 空 Patch 数 | ~25 | **4** | 85 |

---

**报告生成时间:** 2026-01-26 13:00 CST
**评估模型:** qwen/qwen3-coder-480b-a35b-instruct (通过 PPIO API)
**数据集:** princeton-nlp/SWE-bench_Verified
**状态:** ✅ 已完成
